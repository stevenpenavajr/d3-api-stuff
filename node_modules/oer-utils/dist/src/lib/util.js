"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var bignumber_js_1 = require("bignumber.js");
exports.MAX_SAFE_BYTES = 6;
var INTEGER_REGEX = /^-?[0-9]+$/;
function isInteger(value) {
    if (bignumber_js_1.default.isBigNumber(value)) {
        return value.isFinite()
            && value.isInteger();
    }
    else if (typeof value === 'number') {
        return isFinite(value) && Math.floor(value) === value;
    }
    else if (typeof value === 'string') {
        return !!INTEGER_REGEX.exec(value);
    }
    else {
        return false;
    }
}
exports.isInteger = isInteger;
function bufferToBigNumber(buffer) {
    return buffer.reduce(function (sum, value) { return sum.times(256).plus(value); }, new bignumber_js_1.default(0));
}
exports.bufferToBigNumber = bufferToBigNumber;
function bigNumberToBuffer(value, length) {
    var lengthOfValue = (length !== undefined ? length : Math.ceil(value.toString(2).length / 8));
    var buffer = Buffer.alloc(lengthOfValue);
    var big = value;
    for (var i = buffer.length - 1; i >= 0; i--) {
        buffer.writeUInt8(big.modulo(256).toNumber(), i);
        big = big.dividedToIntegerBy(256);
    }
    return buffer;
}
exports.bigNumberToBuffer = bigNumberToBuffer;
//# sourceMappingURL=util.js.map